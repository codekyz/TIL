# Modern JavaScript Deep Dive

# 1장 프로그래밍

> 프로그래밍은 요구사항의 집합을 분석해서 적절한 자료구조와 함수의 집합으로 변환한 수, 그 흐름을 제어하는 것

## 프로그래밍이란?

- **정확하고 상세하게 요구사항을 설명**하는 작업이며 그 결과물이 바로 **코드**
- **컴퓨터 관점에서 문제를 사고**해야하며 여기에는 논리적, 수학적 사고가 필요
- 해결 과제를 작은 단위로 **분해하고 패턴화해서 추출**하며 프로그래밍 내에서 사용될 모든 개념은 **평가 가능하도록 정의** 해야함

## 프로그래밍 언어

- 기계어로 직접 명령을 전달하는 것을 대신할 가장 유용한 대안 => **사람이 이해할 수 있는 약속된 구문(syntax)으로 구성된 프로그래밍 언어를 사용해 프로그램을 작성한 후, 컴퓨터가 이해할 수 있는 기계어로 변환하는 일정의 번역기를 이용하는 것**
  - 컴파일러compiler or 인터프리터interpreter
- 프로그래밍 언어 = **구문(syntax)** + **의미(semantics)**

## 구문과 의미

- 문법(syntax)에 맞는 문장을 구성하는 것은 물론 **의미(semantics)** 를 가지고 있어야 언어의 역할을 충실히 수행할 수 있음
- **요구사항이 실현**(문제가 해결)되어야 의미가 있음
- 문제 => (문제 해결 능력) => 해결방안 => (문법/의미) => 코드
- 프로그래밍의 목적은 **문제 해결**

# 2장 자바스크립트란?

> ... 이제 자바스크립트는 **크로스 플랫폼**을 위한 가장 중요한 언어로 주목받고 있음 ...

## 자바스크립트의 탄생

- 넷스케이프 커뮤니케이션즈에서 **웹페이지의 보조적인 기능을 수행하기 위해 브라우저에서 동작하는 경량 프로그래밍 언어**를 도입 => 브렌던 아이크가 개발한 자바스크립트

## 자바스크립트의 표준화

- 자바스크립트의 파생 버전인 JScript와의 크로스 브라우징 이슈로 인해 표준화된 자바스크립트의 필요성이 대두
- ECMA 인터내셔널에 자바스크립트의 표준화를 요청 => **ECMAScript로 명명**

## 자바스크립트 성장의 역사

- 초창기 자바스크립트
  - 웹페이지의 보조적인 기능을 수행하기 위한 한정적인 용도로 사용
  - 서버로부터 전달받은 HTML과 CSS를 단순 렌더링 하는 수준
- Ajax
  - 자바스크립트를 이용해 서버와 브라우저가 **비동기**방식으로 데이터를 교환할 수 있는 통신 기능인 **Ajax**(Asynchronous JavaScript and XML)가 XMLHttpRequest라는 이름으로 등장
  - 웹페이지에서 변경할 필요가 없는 부분은 다시 렌더링하지 않고 서버로 부터 필요한 데이터만 전송받아 변경해야 하는 부분만 한정적으로 렌더링하는 방식
- jQuery
  - DOM(Document Object Model)을 더욱 쉽게 제어할 수 있게 되었고 크로스 브라우징 이슈도 어느정도 해결
- V8 자바스크립트 엔진
  - V8 엔진의 등장으로 데스크톱 애플리케이션과 유사한 사용자 경험(UX)을 제공할 수 있는 웹 애플리케이션 프로그래밍 언어로 정착
  - 과거 웹 서버에서 수행되던 로직들이 대거 클라이언트(브라우저)로 이동, 프런트엔드 영역이 주목받는 계기로 작용
- Node.js

  - V8 자바스크립트 엔진으로 빌드된 자바스크립트 런타임 환경
  - 자바스크립트 엔진을 브라우저에서 독립시긴 자바스크립트 실행 환경
  - **비동기I/O를 지원하며 단일 스레드 이벤트 루프** 기반으로 동작함으로써 요청 처리 성능이 좋음
  - 데이터를 실시간으로 처리하기 위해 I/O가 빈번하게 발생하는 **SPA**에 적합
  - 브라우저를 벗어나 서버 사이드 애플리케이션 개발에서도 사용할 수 있는 범용 프로그래밍 언어가 됨

- SAP 프레임워크
  - 모던 웹 어플리케이션은 데스크톱 애플리케이션과 비교해도 손색없는 성능과 사용자 경험을 제공하는 것이 필수가 되었고 개발 규모와 복잡도도 상승
  - 따라서 **CBD(Component based developmet)** 방법론을 기반으로하는 **SPA**가 대중화 되면서 **React, Vue.js, Angular, Svelte** 등 등장

## 자바스크립트와 ECMAScript

- 자바스크립트는 일반적으로 프로그래밍 언어로서 기본 뼈대(core)를 이루는 ECMAScript와 브라우저가 별도로 지원하는 **클라이언트 사이드 Web API**(DOM, BOM, Canvas, XMLHttpRequest, fetch, requestAnimationFrame, SVG, Web Storage, Web Component, Web Worker)를 아우르는 개념
- 자바스크립트는 일반적으로 ECMAScript를 아우르는 개념
- **클라이언트 사이드 Web API**는 웹 콘소시엄에서 별도의 사양으로 관리

## 자바스크립트의 특징

- **웹 브라우저에서 동작하는 유일한 프로그래밍 언어**
- **인터프리터interpreter 언어**
- 모던 자바스크립트 엔진은 인터프리터와 컴파일러의 장점을 결합해 비교적 처리 속도가 느린 인터프리터의 단점을 해결 => 인터프리터는 소스코드를 즉시 실행하고 컴파일러는 빠르게 동작하는 머신코드를 생성하고 최적화함
- 자바스크립트는 명령형imperative, 함수형functional, 프로토타입 기반prototype-based 객체지향 프로그래밍을 지원하는 **멀티 패러다임 프로그래밍 언어**

# 3장 자바스크립트 개발 환경과 실행 방법

## 자바스크립트 실행 환경

1. **웹 브라우저** : 모든 브라우저는 자바스크립트를 해석하고 실행할 수 있는 자바스크립트 엔진을 내장(렌더링 목적, 클라이언트 사이드 Web API 제공)
2. **Node.js** : Node.js도 자바스크립트 엔진을 내장(브라우저 외부에서 JS 실행 환경 제공 목적)

## Node.js와 npm

- npm : 자바스크립트 패키지 매니저로 Node.js에서 사용할 수 있는 모듈들을 패키지화해서 모아둔 저장소 역할과 패키지 설치 및 관리를 위한 CLI를 제공
- Node.js REPL(Read Eval Print Loop) : 간단한 자바스크립트 코드를 실행해 결과를 확인해 볼 수 있음(명령어 -> $ node)

# 4장 변수

> 변수variable는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름

## 변수란?

- 프로그래밍 언어에서 데이터를 관리하기 위한 핵심 개념
- 컴퓨터는 메모리를 사용해 데이터를 기억하고 메모리 셀의 크기 즉, 1바이트 단위로 데이터를 저장하거나 읽어옴
- 값을 저장하고 참조하는 매커니즘으로, 값의 위치를 가리키는 상징적인 이름
- **할당(대입, 저장)** : 변수에 값을 저장
- **참조** : 변수에 저장된 값을 읽어 들이는 것

## 식별자

- **식별자 === 변수, 함수, 클래스 등의 이름**
- 식별자는 **어떤 값을 구별해서 식별할 수 있는 고유한 이름**
- 식별자는 **값이 아니라 메모리 주소를 기억**

## 변수 선언

- 변수 선언declaration이란 변수를 생성하는 것
- 변수를 사용하려면 반드시 선언이 필요
- **키워드 : var, let, const**
- var 키워드 단점 => **블록 레벨 스코프를 지원하지 않고 함수 레벨 스코프를 지원**함. 의도치 않게 전역 변수가 선언될 수 있음
- var 키워드 변수 선언 후 값이 할당 되지 않은 메모리 공간에는 **undefined 값이 암묵적으로 할당되어 초기화** => 자바스크립트의 독특한 특징
- 식별자(변수 이름)는 실행 컨텍스트에 등록

## 변수 선언의 실행 시점과 변수 호이스팅

- **변수 선언의 실행 시점 : 소스코드가 한 줄씩 순차적으로 실행되는 시점, 즉 런타임이 아니라 그 이전 단계에서 먼저 실행**
- **변수 호이스팅 : 선언하는 모든 식별자(var,let,const,function,class)가 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징**

## 값의 할당

- 변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되지만 **값의 할당은 소스코드가 순차적으로 실행되는 시점인 런타임에 실행**

## 값의 재할당

- 값을 재할당할 수 없어서 변수에 저장된 값을 변경할 수 없다면 변수가 아니라 **상수** => 단 한번 할당할 수 있는 변수(const 키워드)
- 가비지 콜렉터 : 애플리케이션이 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제 하는 기능. 자바스크립트는 **가비지 콜렉터를 내장하고 있는 매니지드 언어** 로서 메모리 누수를 방지
- 매니지드 언어 : **메모리의 할당 및 해제를 위한 메모리 관리 기능을 언어 차원에서 담당.** 어느 정도 일정한 생산성을 확보 할 수 있다는 장점이 있지만 성능 면에서 어느 정도의 손실은 감수

## 식별자 네이밍 규칙

- 식별자는 특수문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호($)를 포함할 수 있음
- 단, 식별자는 숫자로 시작하는 것은 허용하지 않음
- 예약어는 식별자로 사용할 수 없음
- 예약어: 프로그래밍 언어에서 사용되고 있거나 사용될 예정인 단어
- 자바스크립트는 **대소문자를 구분**
- 네이밍 컨벤션 : 자바스크립트에서는 **변수나 함수의 이름에는 카멜 케이스를** 사용하고, **생성자 함수, 클래스 이름에는 파스칼 케이스를** 사용(ECMAScript사양에 정의되어 있는 객체와 함수들도 카멜 케이스와 파스칼 케이스를 사용)

# 5장 표현식과 문

## 값 value

- 값 : **식expression이 평가evaluate되어 생성된 결과**

## 리터럴 literal

- 리터럴 : **사람이 이해할 수 있는 문자 또는 약속된 기호를 사용해 값을 생성하는 표기법notation을 말함**
- 즉, 값을 생성하기 위해 미리 약속한 표기법

## 표현식 expression

- 표현식 : **값으로 평가될 수 있는 문statement, 표현식이 평가되면 새로운 값을 생성하거나 기존 값을 참조함**
- 리터럴, 식별자, 연산자, 함수 호출 등의 조합으로 이뤄질 수 있음
- **값으로 평가될 수 있는 문은 모두 표현식**

## 문 statement === 명령문

- 문 : **프로그램을 구성하는 기본 단위이자 최소 실행 단위** 문의 집합으로 이뤄진 것이 프로그램이며 문을 작성하고 순서에 맞게 나열하는 것이 프로그래밍
- 토큰token : **문법적인 의미를 가지며, 문법적으로 더 이상 나눌 수 없는 코드의 기본 요소를 의미** (키워드, 식별자, 연산자, 리터럴, 세미콜론, 마침표 등)

## 세미콜론과 세미콜론 자동 삽입 기능

- 세미콜론(;) : **문의 종료를 나타냄**
- 단, 중괄호({...})로 묶은 코드 블록 뒤에는 세미콜론을 붙이지 않음(자체종결성)
- 세미콜론 자동 삽입 기능(ASI) : 자바스크립트 엔진이 소스코드를 해석할 때 세미콜론을 자동으로 붙여줌

## 표현식인 문과 표현식이 아닌 문

- 표현식은 문의 일부일 수도 있고 그 자체로 문이 될 수도 있음
- **가장 간단하고 명료한 방법은 변수에 할당해 보는 것**
